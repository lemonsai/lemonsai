<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>瀑布流布局 | 咸蛋超人</title>
    <meta name="generator" content="VuePress 1.7.0">
    <link rel="icon" href="/maomi.png">
    <link rel="icon" href="/maomi.png">
    <link rel="manifest" href="/manifest.json">
    <meta name="description" content="咸蛋超人">
    <meta name="theme-color" content="#ffffff">
    <meta name="google-site-verification" content="Ld_AEWr30siza2LmmZ12csitRGsSj9gqqEAch0UXkTc">
    
    <link rel="preload" href="/assets/css/0.styles.516a963f.css" as="style"><link rel="preload" href="/assets/js/app.015004e3.js" as="script"><link rel="preload" href="/assets/js/2.c6e1839b.js" as="script"><link rel="preload" href="/assets/js/15.d28d2aca.js" as="script"><link rel="preload" href="/assets/js/3.2514a640.js" as="script"><link rel="prefetch" href="/assets/js/10.1fb2b51f.js"><link rel="prefetch" href="/assets/js/11.ed2174e5.js"><link rel="prefetch" href="/assets/js/12.e2f1eacf.js"><link rel="prefetch" href="/assets/js/13.5d43eb4f.js"><link rel="prefetch" href="/assets/js/14.25aaaee5.js"><link rel="prefetch" href="/assets/js/16.f50e5a79.js"><link rel="prefetch" href="/assets/js/17.7293af45.js"><link rel="prefetch" href="/assets/js/18.15330eaf.js"><link rel="prefetch" href="/assets/js/19.4a9d5c44.js"><link rel="prefetch" href="/assets/js/20.aaa620a9.js"><link rel="prefetch" href="/assets/js/21.8511ff8d.js"><link rel="prefetch" href="/assets/js/22.7f67006c.js"><link rel="prefetch" href="/assets/js/23.deb67d31.js"><link rel="prefetch" href="/assets/js/4.9febcdb7.js"><link rel="prefetch" href="/assets/js/5.1f4073b2.js"><link rel="prefetch" href="/assets/js/6.dfa810f9.js"><link rel="prefetch" href="/assets/js/7.170c203a.js"><link rel="prefetch" href="/assets/js/8.7fd6716c.js"><link rel="prefetch" href="/assets/js/9.bcb7198e.js">
    <link rel="stylesheet" href="/assets/css/0.styles.516a963f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">咸蛋超人</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/guide/" class="nav-link">
  导航
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend/css/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/frontend/JavaScript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/frontend/Component/" class="nav-link">
  组件
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><span class="title">框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="框架" class="mobile-dropdown-title"><span class="title">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frame/vue/" class="nav-link">
  VUE
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开发工具" class="dropdown-title"><span class="title">开发工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="开发工具" class="mobile-dropdown-title"><span class="title">开发工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tools/github/" class="nav-link">
  Github
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><span class="title">更多</span> <span class="arrow down"></span></button> <button type="button" aria-label="更多" class="mobile-dropdown-title"><span class="title">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/more/interview/" class="nav-link">
  面试题
</a></li><li class="dropdown-item"><!----> <a href="https://vuepress.vuejs.org/zh/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  VuePress 官网
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/guide/" class="nav-link">
  导航
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend/css/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/frontend/JavaScript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/frontend/Component/" class="nav-link">
  组件
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><span class="title">框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="框架" class="mobile-dropdown-title"><span class="title">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frame/vue/" class="nav-link">
  VUE
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开发工具" class="dropdown-title"><span class="title">开发工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="开发工具" class="mobile-dropdown-title"><span class="title">开发工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tools/github/" class="nav-link">
  Github
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><span class="title">更多</span> <span class="arrow down"></span></button> <button type="button" aria-label="更多" class="mobile-dropdown-title"><span class="title">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/more/interview/" class="nav-link">
  面试题
</a></li><li class="dropdown-item"><!----> <a href="https://vuepress.vuejs.org/zh/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  VuePress 官网
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>COMPONENT</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/frontend/component/" aria-current="page" class="sidebar-link">首页</a></li><li><a href="/frontend/component/waterfallFlowLayout.html" aria-current="page" class="active sidebar-link">瀑布流布局</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frontend/component/waterfallFlowLayout.html#vue-waterfall2" class="sidebar-link">vue-waterfall2</a></li><li class="sidebar-sub-header"><a href="/frontend/component/waterfallFlowLayout.html#安装" class="sidebar-link">安装</a></li><li class="sidebar-sub-header"><a href="/frontend/component/waterfallFlowLayout.html#main-js" class="sidebar-link">main.js</a></li><li class="sidebar-sub-header"><a href="/frontend/component/waterfallFlowLayout.html#xxx-vue" class="sidebar-link">xxx.vue</a></li><li class="sidebar-sub-header"><a href="/frontend/component/waterfallFlowLayout.html#属性" class="sidebar-link">属性</a></li><li class="sidebar-sub-header"><a href="/frontend/component/waterfallFlowLayout.html#events" class="sidebar-link">Events</a></li><li class="sidebar-sub-header"><a href="/frontend/component/waterfallFlowLayout.html#注意" class="sidebar-link">注意</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="vue-waterfall2"><a href="#vue-waterfall2" class="header-anchor">#</a> vue-waterfall2</h2> <h2 id="安装"><a href="#安装" class="header-anchor">#</a> 安装</h2> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>npm i vue-waterfall2@latest --save</p></div> <h2 id="main-js"><a href="#main-js" class="header-anchor">#</a> main.js</h2> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>import waterfall from 'vue-waterfall2'
Vue.use(waterfall)</p></div> <h2 id="xxx-vue"><a href="#xxx-vue" class="header-anchor">#</a> xxx.vue</h2> <div class="language-html extra-class"><pre class="language-html"><code>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container-water-fall<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>waterfall</span>
            <span class="token attr-name">:col</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>col<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">:width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>itemWidth<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">:gutterWidth</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gutterWidth<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">:data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>showData<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">@loadmore</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>loadmore<span class="token punctuation">&quot;</span></span>
          <span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>
                <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cell-item<span class="token punctuation">&quot;</span></span>
                <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(item, index) in showData<span class="token punctuation">&quot;</span></span>
                <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>index<span class="token punctuation">&quot;</span></span>
                <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handelRouter(item.id)<span class="token punctuation">&quot;</span></span>
              <span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>card-img<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ic_play<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@/assets/ic_play@2x.png<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span>
                    <span class="token attr-name">fit</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cover<span class="token punctuation">&quot;</span></span>
                    <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100%<span class="token punctuation">&quot;</span></span>
                    <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.movieurl &amp;&amp; item.movieurl.split(<span class="token punctuation">'</span>|<span class="token punctuation">'</span>)[1]<span class="token punctuation">&quot;</span></span>
                    <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.movieurl.split(<span class="token punctuation">'</span>|<span class="token punctuation">'</span>)[1]<span class="token punctuation">&quot;</span></span>
                  <span class="token punctuation">/&gt;</span></span>
                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span>
                    <span class="token attr-name">fit</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cover<span class="token punctuation">&quot;</span></span>
                    <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100%<span class="token punctuation">&quot;</span></span>
                    <span class="token attr-name">v-else</span>
                    <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@/assets/@2.0x/default.png<span class="token punctuation">&quot;</span></span>
                  <span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>b-box<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>yuan<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.image<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                    {{ item.name }}
                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span>
            <span class="token punctuation">&gt;</span></span> 
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>waterfall</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code>    
    <span class="token keyword">export</span> <span class="token keyword">default</span><span class="token punctuation">{</span>
	    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	        <span class="token keyword">return</span> <span class="token punctuation">{</span>
	          sort<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
            pageIndex<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
	          col<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token comment">//列数</span>
            showData<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            loading<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
            finished<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 1: 加载中 2: 加载完毕 3: 没有更多</span>
            finishedText<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 2:没有更多  3: 加载中</span>
	        <span class="token punctuation">}</span>
	    <span class="token punctuation">}</span><span class="token punctuation">,</span>
	    computed<span class="token operator">:</span><span class="token punctuation">{</span>
	      <span class="token function">itemWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  
	            <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token number">138</span><span class="token operator">*</span><span class="token number">0.5</span><span class="token operator">*</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientWidth<span class="token operator">/</span><span class="token number">375</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">//rem布局 计算宽度</span>
	      <span class="token punctuation">}</span><span class="token punctuation">,</span>
         <span class="token comment">//   间距</span>
	      <span class="token function">gutterWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	            <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token number">9</span><span class="token operator">*</span><span class="token number">0.5</span><span class="token operator">*</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientWidth<span class="token operator">/</span><span class="token number">375</span><span class="token punctuation">)</span><span class="token punctuation">)</span>	<span class="token comment">//rem布局 计算x轴方向margin(y轴方向的margin自定义在css中即可)</span>
	      <span class="token punctuation">}</span>
	    <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function">onLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>finished <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>finishedText <span class="token operator">=</span> <span class="token string">&quot;没有更多了~&quot;</span><span class="token punctuation">;</span>
          <span class="token keyword">return</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>loading <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getBusinessList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
	    methods<span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token function">scroll</span><span class="token punctuation">(</span><span class="token parameter">scrollData</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>scrollData<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
	      <span class="token function">switchCol</span><span class="token punctuation">(</span><span class="token parameter">col</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	        <span class="token keyword">this</span><span class="token punctuation">.</span>col <span class="token operator">=</span> col
	        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>col<span class="token punctuation">)</span>
	      <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token keyword">async</span> <span class="token function">getBusinessList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
            sort<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>sort<span class="token punctuation">,</span>
            page<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>pageIndex<span class="token punctuation">,</span>
            type<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
            hasmovie<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">;</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>pageIndex<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">let</span> <span class="token punctuation">{</span> list<span class="token punctuation">,</span> page <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getBestMerchantsList_type5</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>list<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>pageIndex <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">this</span><span class="token punctuation">.</span>showData <span class="token operator">=</span> list<span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
              <span class="token keyword">this</span><span class="token punctuation">.</span>showData <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>showData<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>loading <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>showData<span class="token punctuation">.</span>length<span class="token punctuation">,</span> page<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>showData<span class="token punctuation">.</span>length <span class="token operator">&gt;=</span> page<span class="token punctuation">.</span>total<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">this</span><span class="token punctuation">.</span>finished <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
              <span class="token keyword">this</span><span class="token punctuation">.</span>finishedText <span class="token operator">=</span> <span class="token string">&quot;没有更多了~&quot;</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
              <span class="token keyword">this</span><span class="token punctuation">.</span>finished <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
              <span class="token keyword">this</span><span class="token punctuation">.</span>finishedText <span class="token operator">=</span> <span class="token string">&quot;加载更多&quot;</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>loading <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>finished <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>finishedText <span class="token operator">=</span> <span class="token string">&quot;没有更多了~&quot;</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">// 加载更多</span>
	      <span class="token function">loadmore</span><span class="token punctuation">(</span><span class="token parameter">index</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	         <span class="token keyword">this</span><span class="token punctuation">.</span>loading <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
           <span class="token keyword">this</span><span class="token punctuation">.</span>pageIndex<span class="token operator">++</span><span class="token punctuation">;</span>
           <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
              <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getBusinessList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token keyword">this</span><span class="token punctuation">.</span>loading <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
           <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	      <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token comment">//布局</span>
        <span class="token function">scroll</span><span class="token punctuation">(</span><span class="token parameter">scrollData</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">switchCol</span><span class="token punctuation">(</span><span class="token parameter">col</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>col <span class="token operator">=</span> col<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>

	    <span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>
&lt;style scoped lang=&quot;scss&quot;&gt;
#businessShow {
  width: 100%;
  height: auto !important;
  // display: flex;
  // flex-flow: column;
  // background: #F7F7F7;
  .special-event {
    width: 92%;
    margin: 50px auto 0 auto;
    h1 {
      height: 40px;
      font-size: 15px;
      font-weight: bold;
      color: #1d1818;
      line-height: 40px;
      // margin-bottom: 5px;
    }
    .special-event-box {
      width: 100%;
      display: flex;
      justify-content: space-between;
      .special-event-small {
        width: 94px;
        height: 170px;
        background: #eeeeee;
        border-radius: 5px;
        overflow: hidden;
        img {
          width: 100%;
          height: 100%;
        }
      }
      .special-event-small1 {
        width: 241px;
        height: 170px;
        .special-event-small-top {
          display: flex;
          justify-content: space-between;
          .pecial-event-small-top-item {
            width: 115px;
            height: 80px;
            background: #eeeeee;
            border-radius: 5px;
            overflow: hidden;
            img {
              width: 100%;
              height: 100%;
            }
          }
        }
        .special-event-small-bottom {
          width: 100%;
          margin-top: 10px;
          height: 80px;
          background: #eeeeee;
          border-radius: 5px;
          overflow: hidden;
          img {
            width: 100%;
            height: 100%;
          }
        }
      }
    }
  }
  .business-video-show {
    width: 92%;
    // margin: 14px auto 0 auto;
    margin: 0 auto;
    // height: 242px;
    h1 {
      height: 40px;
      font-size: 15px;
      font-weight: bold;
      color: #1d1818;
      line-height: 40px;
      // margin-bottom: 5px;
    }
    .business-video-show-tab {
      height: 100%;
      // &gt; div {
      //   height: 100%;
      //   width: 100%;
      // }
      ul {
        display: flex;
        width: 42%;
        justify-content: space-between;
        margin-bottom: 28px;
        li {
          width: 65px;
          height: 25px;
          background: #f5f7f9;
          border-radius: 13px;
          font-size: 12px;
          font-family: PingFang SC;
          color: #666666;
          line-height: 27px;
          text-align: center;
        }
      }
      .active {
        width: 65px;
        height: 25px;
        background: #ffe5e5;
        border-radius: 13px;
        font-size: 12px;
        font-family: PingFang SC;
        color: #ff5358;
        line-height: 27px;
        text-align: center;
      }
   
      .pubu::before,
      .pubu::after {
        content: &quot;&quot;;
        flex-basis: 100%;
        width: 0;
        order: 2;
      }
    }
  }
  .business-video-show /deep/.van-sticky--fixed {
    padding-left: 14px;
    background-color: #fff;
  }
}
.hasNomore {
  width: 100%;
  height: 100px;
  line-height: 50px;
  color: #969799;
  text-align: center;
  font-size: 16px;
}
.container-water-fall {
  width: 100vw;
  box-sizing: border-box;
}
.vue-waterfall {
  .vue-waterfall-column {
    &amp;:last-child {
      margin-left: 15px !important;
    }
  }
}

 .cell-item {
  background: #ffffff;
  border-radius: 10px;
  overflow: hidden;
  box-sizing: border-box;
  margin: 10% 0;
  border: 1px solid #eee;
}

.cell-item img {
  width: 100%;
  height: auto;
  display: block;
}



.b-box {
  display: flex;
  justify-content: space-between;
  padding: 10px 2px 10px 14px;
  .yuan {
    width: 22px;
    height: 22px;
    border-radius: 50%;
    background-color: #eee;
    overflow: hidden;
    img {
      width: 100%;
      height: 100%;
    }
  }
  &gt; .name {
    text-align: left;
    width: 116px;
    height: 22px;
    line-height: 22px;
    overflow: hidden;
    text-overflow: ellipsis;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 1;
  }
}
.card-img {
  position: relative;
  .ic_play {
    width: 50px;
    height: 50px;
    position: absolute;
    overflow: hidden;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    z-index: 1;
    img {
      width: 100%;
      height: 100%;
    }
  }
}
&lt;/style&gt;

</code></pre></div><h2 id="属性"><a href="#属性" class="header-anchor">#</a> 属性</h2> <table><thead><tr><th>Name</th> <th>Default</th> <th>Type</th> <th>Desc</th> <th>Necessary</th></tr></thead> <tbody><tr><td>height</td> <td>-</td> <td>String</td> <td>容器高度(height为空监听的是window的滚动事件，不为空则监听容器滚动)</td> <td>false</td></tr> <tr><td>col</td> <td>2</td> <td>Number</td> <td>列数</td> <td>false</td></tr> <tr><td>width</td> <td>-</td> <td>Number</td> <td>宽度</td> <td>false</td></tr> <tr><td>gutterWidth</td> <td>10</td> <td>Number</td> <td>间隔的宽度</td> <td>false</td></tr> <tr><td>data</td> <td>[]</td> <td>Array</td> <td>数据</td> <td>true</td></tr> <tr><td>isTransition</td> <td>true</td> <td>BooleanArray</td> <td>加载图片是否使用过渡动画</td> <td>false</td></tr> <tr><td>lazyDistance</td> <td>300</td> <td>Number</td> <td>触发图片懒加载的距离</td> <td>false</td></tr> <tr><td>loadDistance</td> <td>300</td> <td>Number</td> <td>触发上拉加载更多的距离</td> <td>false</td></tr></tbody></table> <h2 id="events"><a href="#events" class="header-anchor">#</a> Events</h2> <table><thead><tr><th>Name</th> <th>Data</th> <th>Desc</th></tr></thead> <tbody><tr><td>loadmore</td> <td>-</td> <td>滚动到底部触发</td></tr> <tr><td>lscroll</td> <td>info</td> <td>获取滚动时的event对象</td></tr> <tr><td>finish</td> <td>-</td> <td>完成元素渲染</td></tr></tbody></table> <h2 id="注意"><a href="#注意" class="header-anchor">#</a> 注意</h2> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>1.gutterWidth需要与width一起使用才会生效，否则会进行自适应宽度(使用rem布局时，需先计算出自适应后的宽度再传值)
2.使用了waterfall的父组件,如果样式存在问题，可去掉css scoped尝试一下</p></div> <p>遇到的bug：滚动到底loadmore未触发</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>app.vue里或者总出口文件设置了 html，body的高度100%，导致loadmore未触发
解决方法：可以直接在当前瀑布流页面设置 height：auto</p></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/frontend/component/" class="prev router-link-active">
        首页
      </a></span> <!----></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.015004e3.js" defer></script><script src="/assets/js/2.c6e1839b.js" defer></script><script src="/assets/js/15.d28d2aca.js" defer></script><script src="/assets/js/3.2514a640.js" defer></script>
  </body>
</html>
